{% extends 'base.html.twig' %}

{% block content %}
    <article>
    <header class="mb-3">
        <h1>{{ post.title }}</h1>
        <small>
            Rédigé par {{ post.firstname }} {{ post.lastname }} le {{ post.creation_date|date('d/m/Y') }}
        </small>
    </header>
    {{ post.content|nl2br }}
</article>

<section class="my-3">
    <h2>Liste des commentaires</h2>
    
    <form method="post" class="mb-2">
        <fieldset>
            <legend>Ajouter un commentaire</legend>
            <input type="hidden" name="post_id" value="{{ post.id }}">
        
            <div class="form-group">
                <label for="pseudo">Pseudo</label>
                <input id="pseudo" name="pseudo" type="text" class="form-control">
            </div>
            <div class="form-group">
                <label for="content">Contenu</label>
                <textarea name="content" id="content" cols="30" rows="5" class="form-control"></textarea>
            </div>
            <button class="btn btn-primary">Ajouter</button>
        </fieldset>
    </form>
    
    <hr>
    
    <ul class="list-unstyled">
        {% for comment in comments %}
            <li>
                <article>
                    <p>
                        Ecrit par {{ comment.pseudo }} le {{ comment.creation_date|date('d/m/Y') }}
                    </p>
                    <p>{{ comment.content }}</p>
                </article>
            </li>
        {% endfor %}
    </ul>
</section>
{% endblock %}